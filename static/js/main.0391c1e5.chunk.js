(this["webpackJsonpopen-sauced-graphiql-explorer"]=this["webpackJsonpopen-sauced-graphiql-explorer"]||[]).push([[0],{173:function(e,n,t){},248:function(e,n,t){},250:function(e,n,t){"use strict";t.r(n);var r=t(2),o=t.n(r),a=t(70),i=t.n(a),u=(t(173),t(71)),l=t(44),c=t(45),s=t(168),d=t(166),h=t(49),f=t(75),g=t.n(f),p=t(109),m=t(251),b=t(35),O=t(0);function y(e){for(var n=e;Object(O.U)(n);)n=n.ofType;return n}function j(e,n){var t=y(e.type);return!(!t.name.startsWith("GitHub")||!t.name.endsWith("Connection")||"first"!==n.name&&"orderBy"!==n.name)}function k(e,n,t){var r=y(e.type);switch(r.name){case"GitHubRepository":if("name"===n.name)return{kind:"StringValue",value:"graphql-js"};if("owner"===n.name)return{kind:"StringValue",value:"graphql"};break;case"NpmPackage":if("name"===n.name)return{kind:"StringValue",value:"graphql"};break;default:if(Object(O.E)(t)&&r.name.startsWith("GitHub")&&r.name.endsWith("Connection")){if("direction"===n.name&&t.getValues().map((function(e){return e.name})).includes("DESC"))return{kind:"EnumValue",value:"DESC"};if("field"===n.name&&t.getValues().map((function(e){return e.name})).includes("CREATED_AT"))return{kind:"EnumValue",value:"CREATED_AT"}}return g.a.defaultValue(t)}return g.a.defaultValue(t)}t(247),t(248);var v=t(76),x=t(162),E=t(163),q=Object(E.a)("colorScheme");var S=function(){var e=function(){var e=Object(x.useMediaQuery)({query:"(prefers-color-scheme: dark)"},void 0),n=q(),t=Object(v.a)(n,2),o=t[0],a=t[1],i=Object(r.useMemo)((function(){return void 0===o?!!e:o}),[o,e]);return Object(r.useEffect)((function(){i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[i]),{isDark:i,setIsDark:a}}(),n=e.isDark,t=e.setIsDark;return o.a.createElement(h.a.Button,{label:"Theme",title:"Toggle Dark Mode",onClick:function(){return t(!n)}})},I=t(165),D="bc178799-292e-49df-8016-223abf5a07cb",T=new I.a({appId:D}),L={auth:T,appId:D,fetchOneGraph:function(e){return fetch("https://serve.onegraph.com/dynamic?app_id="+D,{method:"POST",headers:Object(u.a)({},T.authHeaders()),body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){try{return JSON.parse(e)}catch(n){return e}}))}},C=t(34),w=function(e){Object(s.a)(t,e);var n=Object(d.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=n.call(this,e)).handleEditQuery=function(e){return r.setState({query:e})},r.handleToggleExplorer=function(){r.setState({explorerIsOpen:!r.state.explorerIsOpen})},r.handleLogin=function(){var e=r.state.isLoggedIn;console.log(e),e?L.auth.logout("github").then((function(e){"success"===e.result?(console.log("Logout succeeded"),r.setState({isLoggedIn:!1})):console.log("Logout failed")})):L.auth.login("github").then((function(){L.auth.isLoggedIn("github").then((function(e){e?(console.log("Successfully logged in to GitHub"),r.setState({isLoggedIn:!0})):console.log("Did not grant auth for GitHub")}))})).catch((function(e){return console.error("Problem logging in",e)}))},r.graphiql=null,r.state={schema:null,query:'# shift-option/alt-click on a query below to jump to it in the explorer\n# option/alt-click on a field in the explorer to select all subfields\nquery npmPackage {\n  npm {\n    package(name: "onegraph-apollo-client") {\n      name\n      homepage\n      downloads {\n        lastMonth {\n          count\n        }\n      }\n    }\n  }\n}\n',explorerIsOpen:!0,isLoggedIn:!1},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.fetchOneGraph({query:Object(p.a)()}).then((function(n){var t=e.graphiql.getQueryEditor();t.setOption("extraKeys",Object(u.a)(Object(u.a)({},t.options.extraKeys||{}),{},{"Shift-Alt-LeftClick":e.handleInspectOperation})),e.setState({schema:Object(m.a)(n.data)})})),L.auth.isLoggedIn("github").then((function(n){return e.setState({isLoggedIn:n})}))}},{key:"handleInspectOperation",value:function(e,n){var t=this.state.query,r=Object(b.a)(t||"");if(!r)return console.error("Couldn't parse query document"),null;var o,a,i=e.getTokenAt(n),u={line:n.line,ch:i.start},l={line:n.line,ch:i.end},c={start:e.indexFromPos(u),end:e.indexFromPos(l)},s=r.definitions.find((function(e){if(!e.loc)return console.log("Missing location information for definition"),!1;var n=e.loc;return n.start<=c.start&&n.end>=c.end}));if(!s)return console.error("Unable to find definition corresponding to mouse position"),null;o="OperationDefinition"===s.kind?s.operation:"FragmentDefinition"===s.kind?"fragment":"unknown",a="OperationDefinition"===s.kind&&s.name||"FragmentDefinition"===s.kind&&s.name?s.name.value:"unknown";var d=".graphiql-explorer-root #".concat(o,"-").concat(a),h=document.querySelector(d);return null!==h&&h.scrollIntoView(),!1}},{key:"render",value:function(){var e=this,n=this.state,t=n.query,r=n.schema,o=n.explorerIsOpen,a=n.isLoggedIn;return Object(C.jsxs)("div",{className:"graphiql-container",children:[Object(C.jsx)(g.a,{schema:r,query:t,onEdit:this.handleEditQuery,onRunOperation:function(n){return e.graphiql.handleRunQuery(n)},explorerIsOpen:o,onToggleExplorer:this.handleToggleExplorer,getDefaultScalarArgValue:k,makeDefaultArg:j}),Object(C.jsx)(h.b,{ref:function(n){e.graphiql=n},fetcher:L.fetchOneGraph,schema:r,query:t,onEditQuery:this.handleEditQuery,editorTheme:"dracula",children:Object(C.jsxs)(h.b.Toolbar,{children:[Object(C.jsx)(h.b.Button,{onClick:function(){return e.graphiql.handlePrettifyQuery()},label:"Prettify",title:"Prettify Query (Shift-Ctrl-P)"}),Object(C.jsx)(h.b.Button,{onClick:function(){return e.graphiql.handleToggleHistory()},label:"History",title:"Show History"}),Object(C.jsx)(h.b.Button,{onClick:this.handleToggleExplorer,label:"Explorer",title:"Toggle Explorer"}),Object(C.jsx)(S,{}),Object(C.jsx)(h.b.Button,{onClick:this.handleLogin,label:"Log ".concat(a?"out of":"in to"," GitHub"),title:"GitHub"})]})})]})}}]),t}(r.Component);i.a.render(Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsx)(w,{})}),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.0391c1e5.chunk.js.map