(this["webpackJsonpopen-sauced-graphiql-explorer"]=this["webpackJsonpopen-sauced-graphiql-explorer"]||[]).push([[0],{173:function(e,n,t){},248:function(e,n,t){},250:function(e,n,t){"use strict";t.r(n);var r=t(2),o=t.n(r),i=t(70),a=t.n(i),u=(t(173),t(71)),l=t(44),c=t(45),s=t(168),d=t(166),h=t(49),f=t(75),g=t.n(f),p=t(109),b=t(251),m=t(35),y=t(0);function O(e){for(var n=e;Object(y.U)(n);)n=n.ofType;return n}function j(e,n){var t=O(e.type);return!(!t.name.startsWith("GitHub")||!t.name.endsWith("Connection")||"first"!==n.name&&"orderBy"!==n.name)}function k(e,n,t){var r=O(e.type);switch(r.name){case"GitHubRepository":if("name"===n.name)return{kind:"StringValue",value:"graphql-js"};if("owner"===n.name)return{kind:"StringValue",value:"graphql"};break;case"NpmPackage":if("name"===n.name)return{kind:"StringValue",value:"graphql"};break;default:if(Object(y.E)(t)&&r.name.startsWith("GitHub")&&r.name.endsWith("Connection")){if("direction"===n.name&&t.getValues().map((function(e){return e.name})).includes("DESC"))return{kind:"EnumValue",value:"DESC"};if("field"===n.name&&t.getValues().map((function(e){return e.name})).includes("CREATED_AT"))return{kind:"EnumValue",value:"CREATED_AT"}}return g.a.defaultValue(t)}return g.a.defaultValue(t)}var v=t(76),x=t(162),E=t(163),S=Object(E.a)("colorScheme");var q=function(){var e=function(){var e=Object(x.useMediaQuery)({query:"(prefers-color-scheme: dark)"},void 0),n=S(),t=Object(v.a)(n,2),o=t[0],i=t[1],a=Object(r.useMemo)((function(){return void 0===o?!!e:o}),[o,e]);return Object(r.useEffect)((function(){a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[a]),{isDark:a,setIsDark:i}}(),n=e.isDark,t=e.setIsDark;return o.a.createElement(h.a.Button,{label:"Theme",title:"Toggle Dark Mode",onClick:function(){return t(!n)}})},I=t(165),C="bc178799-292e-49df-8016-223abf5a07cb",D=new I.a({appId:C}),T={auth:D,appId:C,fetchOneGraph:function(e){return fetch("https://serve.onegraph.com/dynamic?app_id="+C,{method:"POST",headers:Object(u.a)({},D.authHeaders()),body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){try{return JSON.parse(e)}catch(n){return e}}))}},L=(t(247),t(248),t(34)),w=function(e){Object(s.a)(t,e);var n=Object(d.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=n.call(this,e)).handleEditQuery=function(e){return r.setState({query:e})},r.handleToggleExplorer=function(){r.setState({explorerIsOpen:!r.state.explorerIsOpen})},r.handleLogin=function(){r.state.isLoggedIn?T.auth.logout("github").then((function(e){"success"===e.result?(console.log("Logout succeeded"),r.setState({isLoggedIn:!1})):console.log("Logout failed")})):T.auth.login("github").then((function(){T.auth.isLoggedIn("github").then((function(e){e?(console.log("Successfully logged in to GitHub"),r.setState({isLoggedIn:!0})):console.log("Did not grant auth for GitHub")}))})).catch((function(e){return console.error("Problem logging in",e)}))},r.graphiql=null,r.state={schema:null,query:"# shift-option/alt-click on a query below to jump to it in the explorer\n# option/alt-click on a field in the explorer to select all subfields\n\nquery IssuesBeforeQuery($owner: String!, $repo: String!, $cursor: String) {\n  gitHub {\n    repositoryOwner(login: $owner) {\n      repository(name: $repo) {\n        issues(first: 5, states: OPEN, orderBy: {field: CREATED_AT, direction: DESC}, before: $cursor) {\n          totalCount\n          data: edges {\n            cursor\n            node {\n              id\n              title\n              url\n              state\n              author {\n                login\n              }\n              labels(first: 5) {\n                data: edges {\n                  node {\n                    id\n                    name\n                    color\n                  }\n                }\n              }\n              comments {\n                totalCount\n              }\n              milestone {\n                title\n              }\n              participants(first: 3) {\n                totalCount\n                nodes {\n                  login\n                  avatarUrl\n                }\n              }\n              createdAt\n            }\n          }\n        }\n      }\n    }\n  }\n}",explorerIsOpen:!0,isLoggedIn:!1},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.fetchOneGraph({query:Object(p.a)()}).then((function(n){var t=e.graphiql.getQueryEditor();t.setOption("extraKeys",Object(u.a)(Object(u.a)({},t.options.extraKeys||{}),{},{"Shift-Alt-LeftClick":e.handleInspectOperation})),e.setState({schema:Object(b.a)(n.data)})})),T.auth.isLoggedIn("github").then((function(n){return e.setState({isLoggedIn:n})}))}},{key:"handleInspectOperation",value:function(e,n){var t=this.state.query,r=Object(m.a)(t||"");if(!r)return console.error("Couldn't parse query document"),null;var o,i,a=e.getTokenAt(n),u={line:n.line,ch:a.start},l={line:n.line,ch:a.end},c={start:e.indexFromPos(u),end:e.indexFromPos(l)},s=r.definitions.find((function(e){if(!e.loc)return console.log("Missing location information for definition"),!1;var n=e.loc;return n.start<=c.start&&n.end>=c.end}));if(!s)return console.error("Unable to find definition corresponding to mouse position"),null;o="OperationDefinition"===s.kind?s.operation:"FragmentDefinition"===s.kind?"fragment":"unknown",i="OperationDefinition"===s.kind&&s.name||"FragmentDefinition"===s.kind&&s.name?s.name.value:"unknown";var d=".graphiql-explorer-root #".concat(o,"-").concat(i),h=document.querySelector(d);return null!==h&&h.scrollIntoView(),!1}},{key:"render",value:function(){var e=this,n=this.state,t=n.query,r=n.schema,o=n.explorerIsOpen,i=n.isLoggedIn;return Object(L.jsxs)("div",{className:"graphiql-container",children:[Object(L.jsx)(g.a,{schema:r,query:t,onEdit:this.handleEditQuery,onRunOperation:function(n){return e.graphiql.handleRunQuery(n)},explorerIsOpen:o,onToggleExplorer:this.handleToggleExplorer,getDefaultScalarArgValue:k,makeDefaultArg:j}),Object(L.jsx)(h.b,{ref:function(n){e.graphiql=n},fetcher:T.fetchOneGraph,schema:r,query:t,onEditQuery:this.handleEditQuery,children:Object(L.jsxs)(h.b.Toolbar,{children:[Object(L.jsx)(h.b.Button,{onClick:function(){return e.graphiql.handlePrettifyQuery()},label:"Prettify",title:"Prettify Query (Shift-Ctrl-P)"}),Object(L.jsx)(h.b.Button,{onClick:function(){return e.graphiql.handleToggleHistory()},label:"History",title:"Show History"}),Object(L.jsx)(h.b.Button,{onClick:this.handleToggleExplorer,label:"Explorer",title:"Toggle Explorer"}),Object(L.jsx)(q,{}),Object(L.jsx)(h.b.Button,{onClick:this.handleLogin,label:"Log ".concat(i?"out of":"in to"," GitHub"),title:"GitHub"})]})})]})}}]),t}(r.Component);a.a.render(Object(L.jsx)(o.a.StrictMode,{children:Object(L.jsx)(w,{})}),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.8b1c5817.chunk.js.map